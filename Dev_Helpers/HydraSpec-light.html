<!DOCTYPE html><head></head><body><div><link href="atom-light-syntax.css" media="all" rel="stylesheet"><link href="html_to_pdf.css" media="all" rel="stylesheet"><div class="markdown-preview native-key-bindings" tabindex="-1" callattachhooks="true"><h1 id="hydra">Hydra</h1>
<h2 id="intro-">Intro:</h2>
<pre class="editor-colors"><code class="lang-hy"><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">main</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span> {</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">nums</span>, <span class="variable other readwrite instance source hydra">noms</span>, <span class="variable other readwrite instance source hydra">odds</span>, <span class="variable other readwrite instance source hydra">greetings</span>, <span class="variable other readwrite instance source hydra">wg</span></span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>greetings <span class="keyword operator source hydra">=</span> <span class="keyword operator source hydra">&lt;--&gt;</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>nums <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">1</span>, <span class="constant numeric source hydra">2</span>]</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>noms <span class="keyword operator source hydra">=</span> [<span class="string quoted double js"><span class="punctuation definition string begin js">"</span>Tim<span class="punctuation definition string end js">"</span></span>, <span class="string quoted double js"><span class="punctuation definition string begin js">"</span>Eston<span class="punctuation definition string end js">"</span></span>, <span class="string quoted double js"><span class="punctuation definition string begin js">"</span>Aaron<span class="punctuation definition string end js">"</span></span>, <span class="string quoted double js"><span class="punctuation definition string begin js">"</span>Ben<span class="punctuation definition string end js">"</span></span>]</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>odds <span class="keyword operator source hydra">=</span> nums.map<span class="meta function source hydra">(<span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">x</span><span class="punctuation definition parameters end source hydra">){</span></span> <span class="keyword control source hydra">return</span> x <span class="keyword operator source hydra">*</span> <span class="constant numeric source hydra">2</span> <span class="keyword operator source hydra">-</span> <span class="constant numeric source hydra">1</span> })</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>wg   <span class="keyword operator source hydra">=</span> <span class="keyword control source hydra">new</span> WaitGroup(odds.length)</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">num</span> <span class="keyword control source hydra">in</span></span> odds <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">spawn</span> (){</span></div><div><span class="source hydra"><span class="leading-whitespace">            </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">msg</span>  <span class="keyword control source hydra">=</span></span> <span class="string quoted double js"><span class="punctuation definition string begin js">"</span>${noms[num]} says hello from a spawned head!<span class="punctuation definition string end js">"</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>msg <span class="keyword operator source hydra">-&gt;</span> greetings</span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>wg.done()</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>}</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">spawn</span> (){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>wg.wait()</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">close</span>(greetings)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">greeting</span> <span class="keyword control source hydra">in</span></span> greetings <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>println(greeting)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra">}</span></div></code></pre>
<h2 id="packages-">Packages:</h2>
<h3 id="importing-from-packages-">Importing From Packages:</h3>
<p>Packages are imported using the <code>import</code> keyword. Each package can be imported seperately or a list of packages can be imported at once</p>
<p>There are three places a package can be imported from. The first is from the <code>std</code> namespace. This houses all of the packages in the standard library. As such, you donâ€™t need to worry about where those files are on your system. The second is from the <code>pkg</code> namespace. These files must be in a specific configurable folder and directory structure which is setup automatically if the built in package manager is used via <code>$ hydra install &lt;pkg name&gt;</code>. The third option is a full path to a .hy file or a relative path from the current file to the package file being imported.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">import</span> std::json, std::http, std::crypto <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>multiple imports</span></span></div></code></pre>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">import</span> std::math       <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>math pkg imported from stdlib</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> pkg::socketio   <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>socketio pkg imported from configured packages folder</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> .<span class="keyword operator source hydra">/</span>util<span class="keyword operator source hydra">/</span>utils.hy <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>utils package imported directly from path</span></span></div></code></pre>
<h3 id="using-imports-">Using Imports:</h3>
<p>Packages may be imported in their entirety or their exported classes, functions, and variables may be specifically imported with the <code>from</code> keyword.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">import</span> json, os, sync <span class="keyword control source hydra">from</span> std           <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>multiple package imports from stdlib</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> sqrt, ceil <span class="keyword control source hydra">from</span> std::math         <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>multiple function imports from std::math</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> Socket, Client <span class="keyword control source hydra">from</span> pkg::socketio <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>multiple class imports from std::socketio</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> Logger <span class="keyword control source hydra">from</span> .<span class="keyword operator source hydra">/</span>util<span class="keyword operator source hydra">/</span>utils.hy       <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Logger class imported from utils package</span></span></div></code></pre>
<p>If a whole package is imported, its functions, classes, and variables are accessed through the package name. If the package is imported from a relative or full path, the package will be able to be accessed through the name of the .hy file without the extension</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">import</span> std::math</span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> std::sync</span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> .<span class="keyword operator source hydra">/</span>util<span class="keyword operator source hydra">/</span>utils.hy</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">s</span> <span class="keyword control source hydra">=</span></span> math.sqrt(<span class="constant numeric source hydra">4</span>)</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">wg</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> sync.WaitGroup(<span class="constant numeric source hydra">3</span>)</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">inf</span> <span class="keyword control source hydra">=</span></span> math.INFINITY</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">stage_name</span> <span class="keyword control source hydra">=</span></span> utils.generate_stage_name()</span></div></code></pre>
<p>Otherwise they can be used directly.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">import</span> WaitGroup <span class="keyword control source hydra">from</span> std::sync</span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> sqrt, INFINITY <span class="keyword control source hydra">from</span> std::math</span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> Logger <span class="keyword control source hydra">from</span> .<span class="keyword operator source hydra">/</span>util<span class="keyword operator source hydra">/</span>utils.hy</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">wg</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> WaitGroup(<span class="constant numeric source hydra">3</span>)</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">s</span> <span class="keyword control source hydra">=</span></span> sqrt(<span class="constant numeric source hydra">4</span>)</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">inf</span> <span class="keyword control source hydra">=</span></span> INFINITY</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">logger</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> Logger()</span></div></code></pre>
<p>Imports may also be renamed with the <code>as</code> keyword.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">import</span> WaitGroup <span class="keyword control source hydra">from</span> std::sync <span class="keyword control source hydra">as</span> WG</span></div><div><span class="source hydra"><span class="keyword control source hydra">import</span> Logger <span class="keyword control source hydra">from</span> .<span class="keyword operator source hydra">/</span>util<span class="keyword operator source hydra">/</span>utils.hy <span class="keyword control source hydra">as</span> L</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">wg</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> WG(<span class="constant numeric source hydra">3</span>)</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">logger</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> L()</span></div></code></pre>
<h3 id="creating-a-package-">Creating A Package:</h3>
<p>To export a top level class, top level function , or top level variable, use the <code>export</code> keyword. There are two syntaxes for this. The first lets you export at the definition of the exported item. For variables, the <code>export</code> keyword implicitly acts as a <code>var</code> keyword as well. The second, and preferred method is explicitly clumping all of your exports together at the beginning/end of the file.</p>
<h5 id="first-way">First Way</h5>
<pre class="editor-colors"><code class="lang-hydra"><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">variable</span> <span class="keyword control source hydra">=</span></span> <span class="constant numeric source hydra">123.456</span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>not exported</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">export</span> VARIABLE <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>123.456<span class="punctuation definition string end js">'</span></span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>exported</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">_Func</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">a</span>, <span class="variable parameter function source hydra">b</span><span class="punctuation definition parameters end source hydra">)</span></span>{ <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>not exported</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> <span class="constant numeric source hydra">15</span> <span class="keyword operator source hydra">+</span> a <span class="keyword operator source hydra">+</span> b, b <span class="keyword operator source hydra">-</span> a <span class="keyword operator source hydra">-</span> <span class="constant numeric source hydra">11</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">export</span> <span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">Func</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">a</span>, <span class="variable parameter function source hydra">b</span><span class="punctuation definition parameters end source hydra">)</span></span>{ <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>exported</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> _Func(b, a)</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> ClassB  <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>not exported</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>ClassB(name){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="variable other readwrite instance source hydra">@name</span> <span class="keyword operator source hydra">=</span> name</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">while</span> <span class="constant language boolean true source hydra">true</span> <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>something...</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">export</span> <span class="keyword control source hydra">class</span> ClassA <span class="keyword control source hydra">extends</span> ClassB  <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>exported</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>ClassA(){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">super</span>(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>ClassA<span class="punctuation definition string end js">'</span></span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div></code></pre>
<h5 id="preferred-way">Preferred Way</h5>
<pre class="editor-colors"><code class="lang-hydra"><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">variable</span> <span class="keyword control source hydra">=</span></span> <span class="constant numeric source hydra">123.456</span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>not exported</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">VARIABLE</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>123.456<span class="punctuation definition string end js">'</span></span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>exported</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">_Func</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">a</span>, <span class="variable parameter function source hydra">b</span><span class="punctuation definition parameters end source hydra">)</span></span>{ <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>not exported</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> <span class="constant numeric source hydra">15</span> <span class="keyword operator source hydra">+</span> a <span class="keyword operator source hydra">+</span> b, b <span class="keyword operator source hydra">-</span> a <span class="keyword operator source hydra">-</span> <span class="constant numeric source hydra">11</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">Func</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">a</span>, <span class="variable parameter function source hydra">b</span><span class="punctuation definition parameters end source hydra">)</span></span>{ <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>exported</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> _Func(b, a)</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> ClassB  <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>not exported</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>ClassB(name){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="variable other readwrite instance source hydra">@name</span> <span class="keyword operator source hydra">=</span> name</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">while</span> <span class="constant language boolean true source hydra">true</span> <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>something...</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> ClassA <span class="keyword control source hydra">extends</span> ClassB  <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>exported</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>ClassA(){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">super</span>(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>ClassA<span class="punctuation definition string end js">'</span></span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>exports</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">export</span> VARIABLE</span></div><div><span class="source hydra"><span class="keyword control source hydra">export</span> Func</span></div><div><span class="source hydra"><span class="keyword control source hydra">export</span> ClassA</span></div></code></pre>
<h2 id="built-in-types-">Built In Types:</h2>
<h3 id="int-">Int:</h3>
<p>Integers can be in base 10, hex, or binary form.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">i</span> <span class="keyword control source hydra">=</span></span> <span class="constant numeric source hydra">123</span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">h</span> <span class="keyword control source hydra">=</span></span> <span class="constant numeric source hydra">0xBEEF1234</span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">b</span> <span class="keyword control source hydra">=</span></span> <span class="constant numeric source hydra">0b11010110</span></span></div></code></pre>
<h3 id="float-">Float:</h3>
<p>Floats can only be expressed in base 10 and must have at least one number after the decimal place. Otherwise they will be treated as an Int.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">f</span> <span class="keyword control source hydra">=</span></span> <span class="constant numeric source hydra">123.0</span></span></div></code></pre>
<h3 id="string-">String:</h3>
<p>Strings can use single or double quotes and can be formatted via interpolation or concatenation. Literal strings can also be created delimited by three single quotes on either side. Literal strings require no escaping.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">str1</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>abc<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">str2</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted double js"><span class="punctuation definition string begin js">"</span>123<span class="punctuation definition string end js">"</span></span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">interpolated</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>str1: ${str1}<span class="punctuation definition string end js">'</span></span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'str1: abc'</span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">concatenated</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>str2: <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span> str2 <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'str2: 123'</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">literal</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span><span class="punctuation definition string end js">'</span><span class="punctuation definition string begin js">'</span>&lt;div&gt;What you see is what you get&lt;/div&gt;<span class="punctuation definition string end js">'</span><span class="punctuation definition string begin js">'</span><span class="punctuation definition string end js">'</span></span></span></div></code></pre>
<h3 id="regex-">Regex:</h3>
<p>Regular Expressions can be instantiated in two ways. As a literal delimited by <code>/</code> or by passing a pattern string to the Regex constructor. String interpolation can be used with either form of instantiation.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">reg1</span> <span class="keyword control source hydra">=</span></span><span class="string regexp source hydra"> <span class="string regexp source hydra">/</span>(abc)(123)!*<span class="string regexp source hydra">/</span></span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">reg2</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> Regex(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>(abc)(123)!*<span class="punctuation definition string end js">'</span></span>)</span></div><div>&nbsp;</div><div><span class="source hydra">reg1.exec(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>abc123!!!<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>['abc123!!!', 'abc', '123']</span></span></div><div><span class="source hydra">reg2.exec(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>abc123!!!<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>['abc123!!!', 'abc', '123']</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">name</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>hydra<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">reg3</span> <span class="keyword control source hydra">=</span></span><span class="string regexp source hydra"> <span class="string regexp source hydra">/</span>${name} is<span class="constant character escape source hydra">\s</span>awesome!*<span class="string regexp source hydra">/</span></span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">reg4</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> Regex(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>${name} is<span class="constant character escape js">\s</span>awesome!*<span class="punctuation definition string end js">'</span></span>)</span></div><div>&nbsp;</div><div><span class="source hydra">reg3.exec(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>hydra is awesome!!!!<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>['hydra is awesome!!!!']</span></span></div><div><span class="source hydra">reg4.exec(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>hydra is awesome!!!!<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>['hydra is awesome!!!!']</span></span></div></code></pre>
<h3 id="function-">Function:</h3>
<p>There are two types of functions. The first is a named, top level, function and the second is an anonymous closure. Both of these may also have their semantics changed based on whether or not they are generators. A generator function returns an instance of a generator which acts like a function with the exception that it can <code>yield</code> a value which will suspend its execution, giving the value and control back to its caller. The next time it is called it will resume execution from where it is left off.</p>
<p>Top level functions are functions that are at the top level of their class or package scope. Package functions may be passed around as values via their name.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">_foo</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{ <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>non exported package top level function</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> bar</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">export</span> <span class="keyword control source hydra">class</span> Foo</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">foo</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{ <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>class top level function</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">return</span> _foo <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>returns another top level function...circumventing _foo not being exported</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div></code></pre>
<p>Closures are anonymous functions that enclose over the values in their current scope. Syntactically, they differ from top level functions in that they do not need the <code>function</code> or <code>gen</code> keywords. To make a closure into a generator, a <code>*</code> is needed before the first parenthesis. As far as semantics go, enclosed values, with the exceptions of Channels and generator instances, are implicitly copied to discourage variable inconsistency in concurrent processing. However, variables may be bound to parameters of the closure so that they may be referenced directly. This has implications on how to invoke a closure but we will get to that in a second.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">name</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>Charlie<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">whats_my_name</span> <span class="keyword control source hydra">=</span></span><span class="meta function source hydra"> <span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(name)</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra">whats_my_name() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Charlie</span></span></div><div><span class="source hydra">name <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>Chuckles<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra">whats_my_name() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Charlie</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">name2</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>Charlie<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">whats_my_name2</span> <span class="keyword control source hydra">=</span></span><span class="meta function source hydra"> <span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">n</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(n)</span></div><div><span class="source hydra">}(name2) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>n now bound to name...this does NOT invoke the closure</span></span></div><div>&nbsp;</div><div><span class="source hydra">whats_my_name2() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Charlie</span></span></div><div><span class="source hydra">name2 <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>Chuckles<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra">whats_my_name2() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Chuckles</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">get_big_string</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> <span class="string quoted double js"><span class="punctuation definition string begin js">"</span>omg it's a generator function!!!<span class="punctuation definition string end js">"</span></span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">word_generator</span> <span class="keyword control source hydra">=</span></span> <span class="meta function source hydra">*<span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">words</span> <span class="keyword control source hydra">=</span></span> get_big_string().split()</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">word</span> <span class="keyword control source hydra">in</span></span> words <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">yield</span> word</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">words</span> <span class="keyword control source hydra">=</span></span> word_generator()</span></div><div><span class="source hydra">words() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>false, 'omg'</span></span></div><div><span class="source hydra">words() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>false, "it's"</span></span></div><div><span class="source hydra">words() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>false, 'a'</span></span></div></code></pre>
<p>As you may have noticed, the trailing parenthesis on the closure definition do not invoke it. Instead they serve as a short syntax to bind values to the parameters of a closure. This has two implications. The first, and more prevalent, one is that if you have a closure that has bound parameters and takes in new parameters on each call, you will have to place all of the bound parameters at the front of the parameter list. The second, is that if you want to immediately invoke a closure then it will have to be wrapped in parenthesis so that it can be evaluated and then invoked.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">name</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>Charlie<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">whats_my_name</span> <span class="keyword control source hydra">=</span></span><span class="meta function source hydra"> <span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">n</span>, <span class="variable parameter function source hydra">suffix</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(n <span class="keyword operator source hydra">+</span> suffix)</span></div><div><span class="source hydra">}(name) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>n now bound to name, suffix is not bound to anything</span></span></div><div>&nbsp;</div><div><span class="source hydra">whats_my_name(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span> the king<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Charlie the king</span></span></div><div><span class="source hydra">name <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>Chuckles<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra">whats_my_name(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span> the chump<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Chuckles the chump</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">num</span> <span class="keyword control source hydra">=</span></span><span class="meta function source hydra"> <span class="punctuation definition parameters begin source hydra">(</span>(<span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> <span class="constant numeric source hydra">14</span></span></div><div><span class="source hydra">})() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>closure invoked</span></span></div></code></pre>
<p>The <code>@</code> operator lets functions access properties of the instance of the class they are defined on. In other words, <code>@</code> refers to the instance of the class that invokes it. In a closure, <code>@</code> refers to the instance of the class that the closure was defined in.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">class</span> Foo</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>Foo(b){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="variable other readwrite instance source hydra">@bar</span> <span class="keyword operator source hydra">=</span> b</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">baz</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="variable other readwrite instance source hydra">@bar</span> <span class="keyword operator source hydra">+=</span> <span class="constant numeric source hydra">2</span>  <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>class variable accessed through '@'</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">return</span> bar <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>ERROR: 'bar' not in reachable context</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">inc</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">amount</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">return</span> (){</span></div><div><span class="source hydra"><span class="leading-whitespace">            </span><span class="keyword control source hydra">return</span> <span class="variable other readwrite instance source hydra">@bar</span> <span class="keyword operator source hydra">+=</span> amount</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>}</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">f</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> Foo(<span class="constant numeric source hydra">1</span>)</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">plus2</span> <span class="keyword control source hydra">=</span></span> f.inc(<span class="constant numeric source hydra">2</span>)</span></div><div>&nbsp;</div><div><span class="source hydra">plus2() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>3</span></span></div><div><span class="source hydra">plus2() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>5</span></span></div><div>&nbsp;</div><div><span class="source hydra">f.bar <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>5</span></span></div></code></pre>
<h3 id="generators-">Generators:</h3>
<p>Generator instances are created by calling generator functions, both named and anonymous. Once created, generators can be used to generate a sequence of values. To get a value from a generator, simply call it like a function. It will return a boolean signifying if it is done followed by the variables that the generator yields.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">gen</span> <span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">nums</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">max</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">i</span> <span class="keyword control source hydra">in</span></span> <span class="constant numeric source hydra">0</span> <span class="keyword control source hydra">upto</span> max <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">yield</span> i</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">double</span> <span class="keyword control source hydra">=</span></span> <span class="meta function source hydra">*<span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">generator</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">i</span> <span class="keyword control source hydra">in</span></span> generator <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">yield</span> i <span class="keyword operator source hydra">*</span> <span class="constant numeric source hydra">2</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">list</span>, <span class="variable other readwrite instance source hydra">doubles</span></span></span></div><div><span class="source hydra">list <span class="keyword operator source hydra">=</span> nums(<span class="constant numeric source hydra">3</span>)</span></div><div><span class="source hydra">doubles <span class="keyword operator source hydra">=</span> double(list)</span></div><div>&nbsp;</div><div><span class="source hydra">doubles() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>false, 0</span></span></div><div><span class="source hydra">doubles() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>false, 1</span></span></div><div><span class="source hydra">doubles() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>false, 2</span></span></div><div>&nbsp;</div><div><span class="source hydra">doubles() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>true, undefined</span></span></div></code></pre>
<p>More often than not, generators yield values without needing any feedback. However, values can be passed back to a yielding generator by passing them as function parameters to the instance. The generator will get the values the next time it is called after it yields and it will resume execution from there.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">gen</span> <span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">echoer</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">start1</span>, <span class="variable parameter function source hydra">start2</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">msg1</span>, <span class="variable other readwrite instance source hydra">msg2</span> <span class="keyword control source hydra">=</span></span> start1, start2</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="keyword control source hydra">while</span> <span class="constant language boolean true source hydra">true</span> <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>msg1, msg2 <span class="keyword operator source hydra">=</span> <span class="keyword control source hydra">yield</span> msg1 <span class="keyword operator source hydra">+</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span> <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span>  msg2</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">echo</span> <span class="keyword control source hydra">=</span></span> echoer(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>hey<span class="punctuation definition string end js">'</span></span>, <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>there<span class="punctuation definition string end js">'</span></span>)</span></div><div><span class="source hydra">echo() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'hey there'</span></span></div><div><span class="source hydra">echo(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>good<span class="punctuation definition string end js">'</span></span>, <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>lookin<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>false, 'good lookin'</span></span></div><div><span class="source hydra">echo(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>how<span class="punctuation definition string end js">'</span></span>, <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>YOU<span class="punctuation definition string end js">'</span></span>)  <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>false, 'how YOU'</span></span></div><div><span class="source hydra">echo(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>doin<span class="punctuation definition string end js">'</span></span>, <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>?<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>false, 'doin ?'</span></span></div></code></pre>
<p>Because generators need to be consistent even when being used concurrently, they are protected by a mutex so that only one head can run any generator instance at a time.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">nums</span> <span class="keyword control source hydra">=</span></span> <span class="constant numeric source hydra">0</span> <span class="keyword control source hydra">upto</span> <span class="constant numeric source hydra">10</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">spawn</span> (){</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">i</span> <span class="keyword control source hydra">in</span></span> nums <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(i) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>0,1,3,6,7,8 ***actual order depends on scheduling***</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">spawn</span> (){</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">i</span> <span class="keyword control source hydra">in</span></span> nums <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(i) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>2,4,5,9 ***actual order depends on scheduling***</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra">}</span></div></code></pre>
<h3 id="array-">Array:</h3>
<p>Arrays grow dynamically and can hold any other type of object. This allows for nesting of hashes and other arrays as well. They can also be initialized in place.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">arr</span> <span class="keyword control source hydra">=</span></span> []</span></div><div><span class="source hydra">arr.push(<span class="constant numeric source hydra">1</span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> arr now [1]</span></span></div><div><span class="source hydra">arr.push([]) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> arr now [1, []]</span></span></div><div><span class="source hydra">arr.pop() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> returns []...arr now [1]</span></span></div><div><span class="source hydra">arr[<span class="constant numeric source hydra">0</span>] <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 1</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>array literal with initial values</span></span></div><div><span class="source hydra">arr <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">1</span>, [], {<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>key<span class="punctuation definition string end js">'</span></span> : <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>val<span class="punctuation definition string end js">'</span></span>}, <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>string<span class="punctuation definition string end js">'</span></span>,<span class="string regexp source hydra"> <span class="string regexp source hydra">/</span><span class="constant character escape source hydra">\"</span>(hi*)<span class="constant character escape source hydra">\"</span><span class="string regexp source hydra">/</span></span>, <span class="constant language boolean true source hydra">true</span><span class="meta function source hydra">, <span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">a</span>, <span class="variable parameter function source hydra">b</span><span class="punctuation definition parameters end source hydra">){</span></span> <span class="keyword control source hydra">return</span> a <span class="keyword operator source hydra">*</span> b }]</span></div></code></pre>
<h3 id="hash-">Hash:</h3>
<p>Hashes map one object, the key, to another, the value. While they are usually used to map strings to objects, any object can be used as a key. If the key is a string, its value can be obtained by accessing a property of the hash with the same name as the string ie. <code>hash.&lt;key&gt;</code>. Hashes have a <code>hash.get(key)</code> function that takes any key and returns the value. Syntax sugar for the <code>get</code> method is similar to getting a value at an array index, ie. <code>&lt;hash&gt;[&lt;key&gt;]</code>. The <code>hash.put(key, val)</code> method and <code>&lt;hash&gt;[&lt;key&gt;] = &lt;val&gt;</code> can be used to put things in the hash. If you attempt to acces a key that is not in the hash it will return the <code>undefined</code> value. If you then try to access a propert on <code>undefined</code> it will throw an error. The <code>has_key</code> method returns true if the hash has the specified key. String and Number keys are evaluated by their value so that calling <code>get</code> on two different String/Number objects with the same value will return the same value from the hash. All other objects used as a key will only return the same value if they are a reference to the same instance.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">hash</span> <span class="keyword control source hydra">=</span></span> {}</span></div><div>&nbsp;</div><div><span class="source hydra">hash.a <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>a<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra">hash[<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>b<span class="punctuation definition string end js">'</span></span>] <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>b<span class="punctuation definition string end js">'</span></span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">if</span> hash.has_key(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>c<span class="punctuation definition string end js">'</span></span>) <span class="keyword control source hydra">then</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(hash.c) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>not executed</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">else</span> <span class="keyword control source hydra">if</span> hash.c <span class="keyword control source hydra">then</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>holy cow hash.c exists!<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>not executed as undefined is falsy</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">else</span>                                 <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>note if hash.c was any other falsy value this would also not execute</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(<span class="string quoted double js"><span class="punctuation definition string begin js">"</span>hash.c doesn't exist<span class="punctuation definition string end js">"</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>executed</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra">print(hash) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>{ a : 'a', b : 'b'}</span></span></div><div><span class="source hydra">hash.remove(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>a<span class="punctuation definition string end js">'</span></span>)</span></div><div><span class="source hydra">print(hash) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>{ b : 'b'}</span></span></div><div>&nbsp;</div><div><span class="source hydra">hash.mult <span class="meta function source hydra">= <span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">x</span>, <span class="variable parameter function source hydra">y</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> x <span class="keyword operator source hydra">*</span> y</span></div><div><span class="source hydra">}</span></div><div><span class="source hydra">hash.mult(<span class="constant numeric source hydra">2</span>, <span class="constant numeric source hydra">5</span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>10</span></span></div><div>&nbsp;</div><div><span class="source hydra">hash.arr <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">0</span>, <span class="constant numeric source hydra">1</span>, <span class="constant numeric source hydra">2</span>, <span class="constant numeric source hydra">3</span>, <span class="constant numeric source hydra">4</span>, <span class="constant numeric source hydra">5</span>]</span></div><div><span class="source hydra">hash.arr[<span class="constant numeric source hydra">3</span>] <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>3</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">arr1</span> <span class="keyword control source hydra">=</span></span> []</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">arr2</span> <span class="keyword control source hydra">=</span></span> []</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">arr3</span> <span class="keyword control source hydra">=</span></span> arr1</span></div><div>&nbsp;</div><div><span class="source hydra">hash[arr1] <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">1</span></span></div><div><span class="source hydra">hash[arr2] <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">2</span></span></div><div>&nbsp;</div><div><span class="source hydra">hash[arr1] <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>1</span></span></div><div><span class="source hydra">hash[arr2] <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>2</span></span></div><div><span class="source hydra">hash[arr3] <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>1</span></span></div></code></pre>
<h3 id="channel-">Channel:</h3>
<p>Channels act as queues that are shared between different concurrent heads. Channels can be instantiated by their unbuffered literal <code>&lt;--&gt;</code> or their buffered literal which takes an expression that evaluates to an integer <code>&lt;-int_expr-&gt;</code>. While channels have <code>send</code> and <code>recv</code> functions, the <code>-&gt;</code> and <code>&lt;-</code> operator can be used to send to or receive from a channel respectively. When using the send and recieve operators, the channel ALWAYS goes on the right.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">val</span></span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">c</span> <span class="keyword control source hydra">=</span></span> <span class="keyword operator source hydra">&lt;-</span><span class="constant numeric source hydra">2</span><span class="keyword operator source hydra">-&gt;</span></span></div><div><span class="source hydra"><span class="constant numeric source hydra">0</span> <span class="keyword operator source hydra">-&gt;</span> c <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>channel sent 0</span></span></div><div><span class="source hydra">val <span class="keyword operator source hydra">=</span> <span class="keyword operator source hydra">&lt;-</span> c <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>channel received 0</span></span></div><div><span class="source hydra">print(val) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>0</span></span></div><div>&nbsp;</div><div><span class="source hydra">c.send(<span class="constant numeric source hydra">1</span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>channel sent 1</span></span></div><div><span class="source hydra">val <span class="keyword operator source hydra">=</span> c.recv() <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>channel received 1</span></span></div><div><span class="source hydra">print(val) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>1</span></span></div></code></pre>
<p>Unbuffered channels block their current head until another one receives from the channel. Likewise, receives on an unbuffered channel block the current head until there is something in the channel to receive from.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>HEAD1</span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">unbuffered</span> <span class="keyword control source hydra">=</span></span> <span class="keyword operator source hydra">&lt;--&gt;</span>   <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>unbuffered channel literal</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">spawn</span>(){</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>HEAD2</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>this head blocked until  HEAD1 puts a value in the channel</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword operator source hydra">&lt;-</span>unbuffered <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>HEAD1 unblocked</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">-&gt;</span> unbuffered <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>HEAD1 now blocked</span></span></div></code></pre>
<p>Buffered channels do not block on sends unless they are full. Like unbuffered channels they do block on receive until there is something in the channel to receive.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>HEAD1</span></span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">buffered</span> <span class="keyword control source hydra">=</span></span> <span class="keyword operator source hydra">&lt;-</span><span class="constant numeric source hydra">10</span><span class="keyword operator source hydra">-&gt;</span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>buffered channel literal</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">from</span> <span class="constant numeric source hydra">0</span> <span class="keyword control source hydra">upto</span> <span class="constant numeric source hydra">10</span> <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">-&gt;</span> buffered <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>10 non blocking sends...channel full</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">spawn</span>(){ <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>HEAD2 (assume this doesn't start until after the next instruction)</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword operator source hydra">&lt;-</span>buffered <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>HEAD1 now unblocked</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">-&gt;</span> buffered <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>buffered channel is full...HEAD1 now blocked</span></span></div></code></pre>
<h3 id="exception-">Exception:</h3>
<p>Throwing an exception is as easy as using the <code>throw</code> keyword and giving it a string. Alternatively, the Exception class can be extended so that extra information can be given to it. When <code>throw</code> is given an Exception or subclass of an Exception, it calls <code>to_string</code> on the object for the error message.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">throw</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>an exception just cuz<span class="punctuation definition string end js">'</span></span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'ERROR: an exception just cuz'</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">throw</span> <span class="keyword control source hydra">new</span> Exception(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>the verbose way<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'ERROR: the verbose way'</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> CustomException <span class="keyword control source hydra">extends</span> Exception</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>CustomException(message){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">this</span>.message <span class="keyword operator source hydra">=</span> message</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">to_string</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">return</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>Custom Error: ${this.message}<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">throw</span> <span class="keyword control source hydra">new</span> CustomException(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>My custom message!!!!<span class="punctuation definition string end js">'</span></span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'Custom Error: My custom message!!!!'</span></span></div></code></pre>
<h2 id="classes-">Classes:</h2>
<p>Classes have both public and private class wide and instance specific variables. Functions on the other hand are just for an instance. Instance variables and functions are referenced with the <code>@</code> operator while class variables are referenced with the <code>#</code> operator. Private variables and functions have names that start with <code>_</code>. As class variables can be accessed from any instance of the class, they are implicitly protected on reads/writes by a mutex so that they are head-safe.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">export</span> DEFAULT_SIZE <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">10</span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>exported package field</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> Foo</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>private class variable</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>#_class_val <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">7</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>public class variable</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>#pub_class_val <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">10</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>private methods</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">_bar</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">return</span> <span class="variable other readwrite instance source hydra">@a</span> <span class="keyword operator source hydra">+</span> <span class="variable other readwrite instance source hydra">@b</span> <span class="keyword operator source hydra">+</span> <span class="variable other readwrite instance source hydra">@DEFAULT_SIZE</span> <span class="keyword operator source hydra">+</span> #_class_val</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>constructor</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>Foo(a, b){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="variable other readwrite instance source hydra">@_a</span> <span class="keyword operator source hydra">=</span> a <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>priv field</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="variable other readwrite instance source hydra">@b</span> <span class="keyword operator source hydra">=</span> b      <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>public field</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="variable other readwrite instance source hydra">@size</span> <span class="keyword operator source hydra">=</span> DEFAULT_SIZE</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>public methods</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">bar</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">chan</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">spawn</span> (){</span></div><div><span class="source hydra"><span class="leading-whitespace">            </span><span class="variable other readwrite instance source hydra">@_bar</span>() <span class="keyword operator source hydra">-&gt;</span> chan</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>}<span class="trailing-whitespace">  </span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">change_class_val</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">val</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>#_class_val <span class="keyword operator source hydra">=</span> val <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>implictely protected by mutex on reads/writes</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">foo</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> Foo(<span class="constant numeric source hydra">1</span>,<span class="constant numeric source hydra">2</span>)</span></div><div><span class="source hydra">foo._a    <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>ERROR: foo, of type Foo, does not have a public field '_a'</span></span></div><div><span class="source hydra">foo.b    <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>2</span></span></div><div><span class="source hydra">foo.size <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>10</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">c</span> <span class="keyword control source hydra">=</span></span> <span class="keyword operator source hydra">&lt;--&gt;</span></span></div><div><span class="source hydra">foo.bar(c)</span></div><div><span class="source hydra"><span class="keyword operator source hydra">&lt;-</span>c <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>20</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">foo2</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> Foo(<span class="constant numeric source hydra">1</span>,<span class="constant numeric source hydra">2</span>)</span></div><div><span class="source hydra">foo2.change_class_val(<span class="constant numeric source hydra">17</span>)</span></div><div><span class="source hydra">foo2.bar(c)</span></div><div><span class="source hydra"><span class="keyword operator source hydra">&lt;-</span>c <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>30</span></span></div><div>&nbsp;</div><div><span class="source hydra">foo.bar(c)</span></div><div><span class="source hydra"><span class="keyword operator source hydra">&lt;-</span>c <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>30</span></span></div><div>&nbsp;</div><div><span class="source hydra">Foo.pub_class_val <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>10</span></span></div><div><span class="source hydra">Foo.pub_class_val <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">25</span></span></div><div><span class="source hydra">Foo.pub_class_val <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>25</span></span></div></code></pre>
<h3 id="extends-">extends:</h3>
<p>Classes can extend multiple classes. The order in which they extend those classes is important. When a subclass tries to access a superclass's property via <code>@&lt;property&gt;</code>, Hydra checks the first Class after the <code>extends</code> keyword and then the second and then the third until it either finds the correct property or throws an error.</p>
<h3 id="super-s-">super(s):</h3>
<p>The <code>super</code> keyword can be used to access the methods and variables of a class's superclasses. A superclasses constructor can be called one of three ways. The first is to use <code>super</code> similar to a namespace ie. <code>super.&lt;name of class&gt;(/* params... */)</code>. The second is to use the <code>supers()</code> function. This is for when a class inherits from more than one superclass. It takes a variable number of arrays, each containing the parameters to pass to its respective superclass constructor. Note that when using this method order matters. The last way is a simplified syntax for when you either only extend one superclass or you only want to call the constructor of the first superclass after the <code>extends</code> keyword. In this case the parameters are passed to <code>super</code> as a function call. If a superclass's constructor is not called, all of the variables that the constructor would have initialized are set to the <code>undefined</code> value.</p>
<pre class="editor-colors"><code class="lang-hydra"><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> A</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>A(init_num){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="variable other readwrite instance source hydra">@num</span> <span class="keyword operator source hydra">=</span> init_num</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> B</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>B(init_string){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="variable other readwrite instance source hydra">@string</span> <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>In B <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span> init_string</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> C <span class="keyword control source hydra">extends</span> A</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>C(){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">super</span>(<span class="constant numeric source hydra">10</span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> D <span class="keyword control source hydra">extends</span> A, B</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>D(){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>First way to call the constructor of multiple superclasses</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">super</span>.A(<span class="constant numeric source hydra">15</span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">super</span>.B(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>From D<span class="punctuation definition string end js">'</span></span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> E <span class="keyword control source hydra">extends</span> A, B</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>E(){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Second way...order matters here</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">supers</span>(</span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>[<span class="constant numeric source hydra">20</span>],</span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>[<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>From E<span class="punctuation definition string end js">'</span></span>]</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> F <span class="keyword control source hydra">extends</span> A, B</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>F(){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Wrong order</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">supers</span>(</span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>[<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>From F<span class="punctuation definition string end js">'</span></span>],</span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>[<span class="constant numeric source hydra">25</span>]</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> G <span class="keyword control source hydra">extends</span> A, B</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>G(){</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">super</span>(<span class="constant numeric source hydra">30</span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">c</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> C()</span></div><div><span class="source hydra">c.num <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>10</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">d</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> D()</span></div><div><span class="source hydra">d.num <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>15</span></span></div><div><span class="source hydra">d.string <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'In B From D'</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">e</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> E()</span></div><div><span class="source hydra">e.num <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>20</span></span></div><div><span class="source hydra">e.string <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'In B From E'</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">f</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> F()</span></div><div><span class="source hydra">f.num <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'From F'</span></span></div><div><span class="source hydra">f.string <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>'In B 25'</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">g</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> G()</span></div><div><span class="source hydra">g.num <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>30</span></span></div><div><span class="source hydra">g.string <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>undefined</span></span></div></code></pre>
<p>The <code>super</code> keyword can also be used to call a superclass's method directly. Again, <code>super</code> may be used similar to a namespace.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">class</span> Dummy</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>Dummy(){}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">error</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">msg</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>lols im not what you meant to call<span class="punctuation definition string end js">'</span></span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> Base</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>Base(){}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">error</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">msg</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>Error: ${msg}<span class="punctuation definition string end js">'</span></span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">class</span> Foo <span class="keyword control source hydra">extends</span> Dummy, Base</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>Foo(){}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">bar</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">zero</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">if</span> zero <span class="keyword operator source hydra">&lt;</span> <span class="constant numeric source hydra">0</span> <span class="keyword control source hydra">then</span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span><span class="keyword control source hydra">super</span>.Base.error(<span class="string quoted double js"><span class="punctuation definition string begin js">"</span>wompppp...too small<span class="punctuation definition string end js">"</span></span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">else</span> <span class="keyword control source hydra">if</span> zero <span class="keyword operator source hydra">==</span> <span class="constant numeric source hydra">0</span> <span class="keyword control source hydra">then</span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>shwweeeeet<span class="punctuation definition string end js">'</span></span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">else</span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span><span class="variable other readwrite instance source hydra">@error</span>(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>wompppp...too big<span class="punctuation definition string end js">'</span></span>)</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">f</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> Foo()</span></div><div><span class="source hydra">f.bar(<span class="keyword operator source hydra">-</span><span class="constant numeric source hydra">1</span>) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 'Error: wompppp...too small'</span></span></div><div><span class="source hydra">f.bar(<span class="constant numeric source hydra">0</span>)  <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 'shwweeeeet'</span></span></div><div><span class="source hydra">f.bar(<span class="constant numeric source hydra">1</span>)  <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 'lols im not what you meant to call'</span></span></div></code></pre>
<h2 id="control-structures-">Control Structures:</h2>
<h3 id="for-in-loop-">For In Loop:</h3>
<p>A for in loop takes a generator or class instance and loops through its values. If a class instance is given, for in will look for a public generator function on the object with the name 'for_in' to get its generator from. Alternatively, for in can be given a generator instance that it will call directly. The variables between the 'for' and 'in' are restricted to the loop scope and after every iteration they are passed back into the generator so that it can take into account their change if need be. Otherwise the generator can ignore the change and make the loop un-alterable once it starts. If the object after 'in' is not a generator, changing it in the loop will only change the loop if that objects 'for_in' generator function takes it into account.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">map_for_in</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">map</span> <span class="keyword control source hydra">=</span></span> { one: <span class="constant numeric source hydra">1</span>, two: <span class="constant numeric source hydra">2</span> };</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">key</span>, <span class="variable other readwrite instance source hydra">val</span> <span class="keyword control source hydra">in</span></span> map <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>key: <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span> key <span class="keyword operator source hydra">+</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span> val: <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span> val);</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">arr_for_in</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">arr</span> <span class="keyword control source hydra">=</span></span> [<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>1<span class="punctuation definition string end js">'</span></span>, <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>2<span class="punctuation definition string end js">'</span></span>, <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>3<span class="punctuation definition string end js">'</span></span>];</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">i</span>, <span class="variable other readwrite instance source hydra">val</span> <span class="keyword control source hydra">in</span></span> arr <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>index: <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span> i <span class="keyword operator source hydra">+</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span> val: <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span> val);</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">str_for_in</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">str</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>abc123<span class="punctuation definition string end js">'</span></span>;</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">i</span>, <span class="variable other readwrite instance source hydra">char</span> <span class="keyword control source hydra">in</span></span> str <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>index: <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span> i <span class="keyword operator source hydra">+</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span> char: <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span> char);</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">chan_for_in</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">chan</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">val</span> <span class="keyword control source hydra">in</span></span> chan <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>recieved <span class="punctuation definition string end js">'</span></span> <span class="keyword operator source hydra">+</span> val <span class="keyword operator source hydra">+</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span> from channel<span class="punctuation definition string end js">'</span></span>);</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>channel closed<span class="punctuation definition string end js">'</span></span>);</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div></code></pre>
<p>As long as the for in loop gets a generator instance, it doesn't matter if it came from a closure or is returned from a function call.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">class</span> Binary_Tree</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span>Binary_Tree(){</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>initialization...</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="keyword control source hydra">gen</span> <span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">preorder</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">maxdepth</span><span class="keyword operator source hydra">=-</span><span class="constant numeric source hydra">1</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>yield values in preorder...</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">inorder</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">maxdepth</span><span class="keyword operator source hydra">=-</span><span class="constant numeric source hydra">1</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> <span class="meta function source hydra">*<span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>yield values in inorder...</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">postorder</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">maxdepth</span><span class="keyword operator source hydra">=-</span><span class="constant numeric source hydra">1</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">copy_me</span> <span class="keyword control source hydra">=</span></span> <span class="variable other readwrite instance source hydra">@property</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">genner</span> <span class="keyword control source hydra">=</span></span> <span class="meta function source hydra">*<span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>yield values in postorder...</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>copy property instead of giving direct access to it</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> genner()</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra">btree <span class="keyword operator source hydra">=</span> <span class="keyword control source hydra">new</span> Binary_Tree()</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>add a bunch of stuff...</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">val</span> <span class="keyword control source hydra">in</span></span> btree.preorder() <span class="keyword control source hydra">do</span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>invoking generator function to get generator instance</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>print out a preorder representation</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">val</span> <span class="keyword control source hydra">in</span></span> btree.postorder() <span class="keyword control source hydra">do</span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>invoking function to get generator instance</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>print out a postorder representation</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">val</span> <span class="keyword control source hydra">in</span></span> (btree.inorder())() <span class="keyword control source hydra">do</span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>invoking function to get generator closure then invoking</span></span></div><div><span class="source hydra"><span class="leading-whitespace">                                  </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>generator closure to get generator instance</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>print out a inorder representation</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div></code></pre>
<h3 id="while-loop-">While Loop:</h3>
<p>A while loop takes a boolean literal, a comparison, a variable, or a function call as its condition and runs a block of code while the condition evaluates to a truthy value. The condition will be run before each iteration of the loop including the first one. New variables may not be created in the condition portion of the while loop.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">while_loop</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">bool</span> <span class="keyword control source hydra">=</span></span> <span class="constant language boolean true source hydra">true</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">while</span> bool <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span>bool <span class="keyword operator source hydra">=</span> some_func_call();</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">comparison_while_loop</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">char</span> <span class="keyword control source hydra">=</span></span> get_next_char();</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">while</span> char !<span class="keyword operator source hydra">=</span> EOF <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span>print(char);</span></div><div><span class="source hydra"><span class="leading-whitespace">      </span>char <span class="keyword operator source hydra">=</span> get_next_char();</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">func_call_while_loop</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">while</span> still_running() <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>still going!<span class="punctuation definition string end js">'</span></span>);</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div></code></pre>
<h3 id="looping-keywords-">Looping Keywords:</h3>
<p>In both for in and while loops, the <code>continue</code> and <code>break</code> key words can be used to alter the control flow. The <code>continue</code> keyword makes the loop skip executing the rest of the code in that iteration and starts the next iteration immediately. The <code>break</code> keyword stops the loop all together and passes control to the next statement outside of the loop.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">i</span> <span class="keyword control source hydra">in</span></span> <span class="constant numeric source hydra">0</span> <span class="keyword control source hydra">upto</span> <span class="constant numeric source hydra">10</span> <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">if</span> i <span class="keyword operator source hydra">%</span> <span class="constant numeric source hydra">2</span> !<span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">0</span> <span class="keyword control source hydra">then</span> <span class="keyword control source hydra">continue</span> <span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">if</span> i <span class="keyword operator source hydra">==</span> <span class="constant numeric source hydra">8</span> <span class="keyword control source hydra">then</span> <span class="keyword control source hydra">break</span> <span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>print(i) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>0, 2, 4, 6</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span>print(<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>break just popped out of the loop<span class="punctuation definition string end js">'</span></span>)</span></div></code></pre>
<h3 id="given-is-statement-">Given Is Statement:</h3>
<p>The <code>given is</code> statement goes through each one of its arms comparing the object after <code>given</code> to the expected object(s) of the arm. If the expected object(s) is a class, the arm is executed if the given object is an instance of the class. If the expected object(s) is a string or number the arm will execute if the given object has the same value. If the expected object(s) is a function the arm will execute if the given object is the same function. For class methods this is only the case when both objects are methods on the same instance. For closures, generator instances, regular expressions, and any other object they must be the same instance. If the comparison in the arm evaluates to true, the code in that arm is run and the next arm is evaluated. That is to say that all of the arms could be executed unless the <code>break</code> keyword is used to pop out of the <code>given is</code> statement. If none of the arm conditions are true, the statement will effectively do nothing unless a default block of code, which is always run if the <code>given is</code> statement gets to it, is given. A default block of code is similar to a regular arm except it comes at the end of the statement and starts with <code>else do</code> instead of <code>is &lt;expected object(s)&gt; do</code>.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">given_is</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">obj</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">given</span> obj</span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="keyword control source hydra">is</span> String <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>string_stuff(obj);</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">break</span>;</span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="keyword control source hydra">is</span> Array <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>array_stuff(obj);</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">break</span>;</span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="keyword control source hydra">is</span> <span class="constant numeric source hydra">0</span> <span class="keyword control source hydra">or</span> <span class="constant numeric source hydra">2</span> <span class="keyword control source hydra">do</span> <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>allow to check for multiple cases</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>number_stuff(obj);</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">break</span>;</span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="keyword control source hydra">else</span> <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span>default();</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div></code></pre>
<h3 id="wait_for-statement-">Wait_For Statement:</h3>
<p>The <code>wait_for</code> statement lets you sudo-randomly choose and communicate over an arbitrary number of sending/receiving channels. It takes channel send/receive cases and checks to see which ones would not block if executed. From the pool of executable cases, it chooses one and executes it. If none of the cases are executable it blocks until one is ready and then executes it. A default case can be added to the end which will run if no other case is executable.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">wait_for_either_or</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">in_chan1</span>, <span class="variable parameter function source hydra">in_chan2</span>, <span class="variable parameter function source hydra">out_chan</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">recvd</span>, <span class="variable other readwrite instance source hydra">clsd</span><span class="keyword control source hydra">;</span></span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">while</span> <span class="constant language boolean true source hydra">true</span> <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="keyword control source hydra">wait_for</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">either</span> recvd, clsd <span class="keyword operator source hydra">&lt;-</span> in_chan1 <span class="keyword control source hydra">then</span></span></div><div><span class="source hydra"><span class="leading-whitespace">          </span><span class="keyword control source hydra">if</span> clsd <span class="keyword control source hydra">then</span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>stop()</span></div><div><span class="source hydra"><span class="leading-whitespace">          </span><span class="keyword control source hydra">else</span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>do_something(recvd) <span class="keyword operator source hydra">-&gt;</span> out_chan</span></div><div><span class="source hydra"><span class="leading-whitespace">          </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">or</span> recvd, clsd <span class="keyword operator source hydra">&lt;-</span> in_chan2 <span class="keyword control source hydra">then</span></span></div><div><span class="source hydra"><span class="leading-whitespace">          </span><span class="keyword control source hydra">if</span> clsd <span class="keyword control source hydra">then</span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span><span class="keyword control source hydra">break</span></span></div><div><span class="source hydra"><span class="leading-whitespace">          </span><span class="keyword control source hydra">else</span></span></div><div><span class="source hydra"><span class="leading-whitespace">            </span>do_something2(recvd) <span class="keyword operator source hydra">-&gt;</span> out_chan</span></div><div><span class="source hydra"><span class="leading-whitespace">          </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">or</span> <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">          </span>default()</span></div><div><span class="source hydra"><span class="leading-whitespace">        </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div></code></pre>
<h2 id="value-reference-semantics-">Value/Reference Semantics:</h2>
<h3 id="function-parameters-">Function Parameters:</h3>
<p>String, Int, Float, and Boolean parameters get passed by value. Parameters that are a Hash, Array, Channel, Generator instance, or any other Object get passed by reference.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">negate</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">b</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b <span class="keyword operator source hydra">=</span> !b</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">bool</span> <span class="keyword control source hydra">=</span></span> <span class="constant language boolean true source hydra">true</span></span></div><div><span class="source hydra">negate(bool)</span></div><div><span class="source hydra">print(bool) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>true</span></span></div><div>&nbsp;</div><div>&nbsp;</div><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">inc</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">a</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>a <span class="keyword operator source hydra">+=</span> a</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">num</span> <span class="keyword control source hydra">=</span></span> <span class="constant numeric source hydra">1</span>;</span></div><div><span class="source hydra">inc(num)</span></div><div><span class="source hydra">print(num) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>1</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">string</span> <span class="keyword control source hydra">=</span></span> <span class="string quoted double js"><span class="punctuation definition string begin js">"</span>a<span class="punctuation definition string end js">"</span></span></span></div><div><span class="source hydra">inc(string)</span></div><div><span class="source hydra">print(string) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>"a"</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">arr</span> <span class="keyword control source hydra">=</span></span> [<span class="constant numeric source hydra">1</span>]</span></div><div><span class="source hydra">inc(arr)</span></div><div><span class="source hydra">print(arr) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>[1, 1]</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">change</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">h</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>h.<span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">2</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">hash</span> <span class="keyword control source hydra">=</span></span> {<span class="string quoted single js"><span class="punctuation definition string begin js">'</span>1<span class="punctuation definition string end js">'</span></span>: <span class="constant numeric source hydra">1</span>}</span></div><div><span class="source hydra">change(hash)</span></div><div><span class="source hydra">print(hash) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>{ '1' : 2 }</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">sender</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">c</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">-&gt;</span> c</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">chan</span> <span class="keyword control source hydra">=</span></span> <span class="keyword operator source hydra">&lt;--&gt;</span></span></div><div><span class="source hydra"><span class="keyword control source hydra">spawn</span> sender(chan)</span></div><div><span class="source hydra">print(<span class="keyword operator source hydra">&lt;-</span>chan) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>1</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">caller</span><span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">genrtr</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>print(genrtr())</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">g</span> <span class="keyword control source hydra">=</span></span> <span class="meta function source hydra">*<span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="source hydra"><span class="keyword control source hydra">for</span> <span class="variable other readwrite instance source hydra">i</span> <span class="keyword control source hydra">in</span></span> <span class="constant numeric source hydra">0</span> <span class="keyword control source hydra">upto</span> <span class="constant numeric source hydra">3</span> <span class="keyword control source hydra">do</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">yield</span> i</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="keyword control source hydra">end</span></span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">genrtr</span> <span class="keyword control source hydra">=</span></span> g()</span></div><div>&nbsp;</div><div><span class="source hydra">print(genrtr()) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>0</span></span></div><div><span class="source hydra">caller(genrtr)  <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>1</span></span></div><div><span class="source hydra">print(genrtr()) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>2</span></span></div></code></pre>
<h3 id="assignment-">Assignment:</h3>
<p>Assignments have the same semantics as function parameters. When you assign an object to a variable, the variable takes the value of the object if it is a String, Int, Float, or Boolean. Otherwise, the variable references the actual object and any changes to the variable will be reflected in all other references to the object. Reassigning the variable simply makes it reference a new object or take on a new value. It does not effect the previous object it referenced.</p>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="keyword control source hydra">class</span> Builtins</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>Builtins(){</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="variable other readwrite instance source hydra">@str</span>  <span class="keyword operator source hydra">=</span> <span class="string quoted double js"><span class="punctuation definition string begin js">"</span>a<span class="punctuation definition string end js">"</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="variable other readwrite instance source hydra">@num</span>  <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">1</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="variable other readwrite instance source hydra">@bool</span> <span class="keyword operator source hydra">=</span> <span class="constant language boolean true source hydra">true</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="variable other readwrite instance source hydra">@hash</span> <span class="keyword operator source hydra">=</span> { <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>1<span class="punctuation definition string end js">'</span></span> : <span class="constant numeric source hydra">1</span> }</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="variable other readwrite instance source hydra">@arr</span>  <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">1</span>]</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="variable other readwrite instance source hydra">@chan</span> <span class="keyword operator source hydra">=</span> <span class="keyword operator source hydra">&lt;-</span><span class="constant numeric source hydra">2</span><span class="keyword operator source hydra">-&gt;</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="meta function source hydra"><span class="storage type function source hydra">function</span> <span class="entity name function source hydra">changer</span><span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">)</span></span>{</span></div><div><span class="source hydra"><span class="leading-whitespace">    </span><span class="keyword control source hydra">return</span> (){</span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="variable other readwrite instance source hydra">@str</span>  <span class="keyword operator source hydra">=</span> <span class="string quoted double js"><span class="punctuation definition string begin js">"</span>b<span class="punctuation definition string end js">"</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="variable other readwrite instance source hydra">@num</span>  <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">2</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="variable other readwrite instance source hydra">@bool</span> <span class="keyword operator source hydra">=</span> <span class="constant language boolean false source hydra">false</span></span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="variable other readwrite instance source hydra">@hash</span> <span class="keyword operator source hydra">=</span> { <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>2<span class="punctuation definition string end js">'</span></span> : <span class="constant numeric source hydra">2</span> }</span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="variable other readwrite instance source hydra">@arr</span>  <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">2</span>]</span></div><div><span class="source hydra"><span class="leading-whitespace">      </span><span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">-&gt;</span> <span class="variable other readwrite instance source hydra">@chan</span></span></div><div><span class="source hydra"><span class="leading-whitespace">    </span>}</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>}</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="keyword control source hydra">end</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">builtin</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> Builtins()</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">s</span>, <span class="variable other readwrite instance source hydra">n</span>, <span class="variable other readwrite instance source hydra">b</span>, <span class="variable other readwrite instance source hydra">h</span>, <span class="variable other readwrite instance source hydra">a</span>, <span class="variable other readwrite instance source hydra">c</span></span></span></div><div>&nbsp;</div><div><span class="source hydra">s <span class="keyword operator source hydra">=</span> builtin.str</span></div><div><span class="source hydra">print(s) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> "a"</span></span></div><div><span class="source hydra">print(s.upcase()) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> "A"</span></span></div><div><span class="source hydra">print(builtin.str) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>"a"</span></span></div><div>&nbsp;</div><div><span class="source hydra">b <span class="keyword operator source hydra">=</span> builtin.bool</span></div><div><span class="source hydra">print(b) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> true</span></span></div><div><span class="source hydra">print(b.negate()) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> false</span></span></div><div><span class="source hydra">print(builtin.bool) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>true</span></span></div><div>&nbsp;</div><div><span class="source hydra">h <span class="keyword operator source hydra">=</span> builtin.hash</span></div><div><span class="source hydra">print(h) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> { '1' : 1 }</span></span></div><div><span class="source hydra">h.<span class="constant numeric source hydra">2</span> <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">2</span></span></div><div><span class="source hydra">print(builtin.hash) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>{ '1' : 1, '2' : 2 }</span></span></div><div>&nbsp;</div><div><span class="source hydra">a <span class="keyword operator source hydra">=</span> builtin.arr</span></div><div><span class="source hydra">print(a) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> [1]</span></span></div><div><span class="source hydra">a.push(<span class="constant numeric source hydra">2</span>)</span></div><div><span class="source hydra">print(builtin.arr) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> [1, 2]</span></span></div><div>&nbsp;</div><div><span class="source hydra">c <span class="keyword operator source hydra">=</span> builtin.chan</span></div><div><span class="source hydra"><span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">-&gt;</span> c</span></div><div><span class="source hydra">print(<span class="keyword operator source hydra">&lt;-</span>builtin.chan) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>1</span></span></div></code></pre>
<h3 id="binding-closure-parameters-">Binding Closure Parameters:</h3>
<pre class="editor-colors"><code class="lang-hydra"><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Closure closing over values, copying some and taking references of others</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">num</span>, <span class="variable other readwrite instance source hydra">str</span>, <span class="variable other readwrite instance source hydra">bool</span>, <span class="variable other readwrite instance source hydra">hash</span>, <span class="variable other readwrite instance source hydra">arr</span>, <span class="variable other readwrite instance source hydra">chan</span></span></span></div><div>&nbsp;</div><div><span class="source hydra">num <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">1</span></span></div><div><span class="source hydra">bool <span class="keyword operator source hydra">=</span> <span class="constant language boolean true source hydra">true</span></span></div><div><span class="source hydra">str  <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>a<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra">hash <span class="keyword operator source hydra">=</span> { <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>1<span class="punctuation definition string end js">'</span></span> : <span class="constant numeric source hydra">1</span> }</span></div><div><span class="source hydra">arr  <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">1</span>]</span></div><div><span class="source hydra">chan <span class="keyword operator source hydra">=</span> <span class="keyword operator source hydra">&lt;-</span><span class="constant numeric source hydra">2</span><span class="keyword operator source hydra">-&gt;</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">clos</span> <span class="keyword control source hydra">=</span></span><span class="meta function source hydra"> <span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>num  <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">2</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>bool <span class="keyword operator source hydra">=</span> <span class="constant language boolean false source hydra">false</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>str  <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>b<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>hash <span class="keyword operator source hydra">=</span> { <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>2<span class="punctuation definition string end js">'</span></span> : <span class="constant numeric source hydra">2</span> }</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>arr  <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">2</span>]</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">-&gt;</span> chan</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra">clos()</span></div><div>&nbsp;</div><div><span class="source hydra">print(num) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 1</span></span></div><div><span class="source hydra">print(bool)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> true</span></span></div><div><span class="source hydra">print(str) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 'a'</span></span></div><div><span class="source hydra">print(hash)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> { '1' : 1 }</span></span></div><div><span class="source hydra">print(arr) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> [1]</span></span></div><div><span class="source hydra">print(<span class="keyword operator source hydra">&lt;-</span>chan)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 1</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>-------------------------------------</span></span></div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Closure closing around, and thus copying implicitly an object</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">builtins</span> <span class="keyword control source hydra">=</span></span> <span class="keyword control source hydra">new</span> Builtins()</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">clos2</span> <span class="keyword control source hydra">=</span></span><span class="meta function source hydra"> <span class="punctuation definition parameters begin source hydra">(</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>builtins.num  <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">2</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>builtins.bool <span class="keyword operator source hydra">=</span> <span class="constant language boolean false source hydra">false</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>builtins.str  <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>b<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>builtins.hash <span class="keyword operator source hydra">=</span> { <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>2<span class="punctuation definition string end js">'</span></span> : <span class="constant numeric source hydra">2</span> }</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>builtins.arr  <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">2</span>]</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">-&gt;</span> builtins.chan</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra">clos2()</span></div><div>&nbsp;</div><div><span class="source hydra">print(builtins.num) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 1</span></span></div><div><span class="source hydra">print(builtins.bool)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> true</span></span></div><div><span class="source hydra">print(builtins.str) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 'a'</span></span></div><div><span class="source hydra">print(builtins.hash)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> { '1' : 1 }</span></span></div><div><span class="source hydra">print(builtins.arr) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> [1]</span></span></div><div><span class="source hydra">print(<span class="keyword operator source hydra">&lt;-</span>builtins.chan)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 1</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>-------------------------------------</span></span></div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Closure being passed a reference</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">clos3</span> <span class="keyword control source hydra">=</span></span><span class="meta function source hydra"> <span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">b</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.num  <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">2</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.bool <span class="keyword operator source hydra">=</span> <span class="constant language boolean false source hydra">false</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.str  <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>b<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.hash <span class="keyword operator source hydra">=</span> { <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>2<span class="punctuation definition string end js">'</span></span> : <span class="constant numeric source hydra">2</span> }</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.arr  <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">2</span>]</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="constant numeric source hydra">1</span> <span class="keyword operator source hydra">-&gt;</span> b.chan</span></div><div><span class="source hydra">}</span></div><div>&nbsp;</div><div><span class="source hydra">builtins <span class="keyword operator source hydra">=</span> <span class="keyword control source hydra">new</span> Builtins()</span></div><div>&nbsp;</div><div><span class="source hydra">clos3(builtins)</span></div><div>&nbsp;</div><div><span class="source hydra">print(builtins.num) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 2</span></span></div><div><span class="source hydra">print(builtins.bool)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> false</span></span></div><div><span class="source hydra">print(builtins.str) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 'b'</span></span></div><div><span class="source hydra">print(builtins.hash)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> { '2' : 2 }</span></span></div><div><span class="source hydra">print(builtins.arr) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> [2]</span></span></div><div><span class="source hydra">print(<span class="keyword operator source hydra">&lt;-</span>builtins.chan)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 1</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>-------------------------------------</span></span></div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Closure with bound parameter</span></span></div><div>&nbsp;</div><div><span class="source hydra">builtins <span class="keyword operator source hydra">=</span> <span class="keyword control source hydra">new</span> Builtins()</span></div><div>&nbsp;</div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">clos4</span> <span class="keyword control source hydra">=</span></span><span class="meta function source hydra"> <span class="punctuation definition parameters begin source hydra">(</span><span class="variable parameter function source hydra">b</span><span class="punctuation definition parameters end source hydra">){</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.num  <span class="keyword operator source hydra">=</span> <span class="constant numeric source hydra">3</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.bool <span class="keyword operator source hydra">=</span> <span class="constant language boolean true source hydra">true</span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.str  <span class="keyword operator source hydra">=</span> <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>c<span class="punctuation definition string end js">'</span></span></span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.hash <span class="keyword operator source hydra">=</span> { <span class="string quoted single js"><span class="punctuation definition string begin js">'</span>3<span class="punctuation definition string end js">'</span></span> : <span class="constant numeric source hydra">3</span> }</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span>b.arr  <span class="keyword operator source hydra">=</span> [<span class="constant numeric source hydra">3</span>]</span></div><div><span class="source hydra"><span class="leading-whitespace">  </span><span class="constant numeric source hydra">2</span> <span class="keyword operator source hydra">-&gt;</span> b.chan</span></div><div><span class="source hydra">}(builtins)</span></div><div>&nbsp;</div><div><span class="source hydra">clos4()</span></div><div>&nbsp;</div><div><span class="source hydra">print(builtins.num) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 3</span></span></div><div><span class="source hydra">print(builtins.bool)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> true</span></span></div><div><span class="source hydra">print(builtins.str) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 'c'</span></span></div><div><span class="source hydra">print(builtins.hash)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> { '3' : 3 }</span></span></div><div><span class="source hydra">print(builtins.arr) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> [3]</span></span></div><div><span class="source hydra">print(<span class="keyword operator source hydra">&lt;-</span>builtins.chan)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 2</span></span></div><div>&nbsp;</div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>-------------------------------------</span></span></div><div><span class="source hydra"><span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span>Closure capturing @&lt;property&gt;</span></span></div><div>&nbsp;</div><div><span class="source hydra">builtins <span class="keyword operator source hydra">=</span> <span class="keyword control source hydra">new</span> Builtins()</span></div><div><span class="source hydra"><span class="source hydra"><span class="keyword control source hydra">var</span> <span class="variable other readwrite instance source hydra">change</span> <span class="keyword control source hydra">=</span></span> builtins.changer()</span></div><div>&nbsp;</div><div><span class="source hydra">print(builtins.num) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 1</span></span></div><div><span class="source hydra">print(builtins.bool)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> true</span></span></div><div><span class="source hydra">print(builtins.str) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 'a'</span></span></div><div><span class="source hydra">print(builtins.hash)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> { '1' : 1 }</span></span></div><div><span class="source hydra">print(builtins.arr) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> [1]</span></span></div><div>&nbsp;</div><div><span class="source hydra">change()</span></div><div>&nbsp;</div><div><span class="source hydra">print(builtins.num) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 2</span></span></div><div><span class="source hydra">print(builtins.bool)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> false</span></span></div><div><span class="source hydra">print(builtins.str) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 'b'</span></span></div><div><span class="source hydra">print(builtins.hash)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> { '2' : 2 }</span></span></div><div><span class="source hydra">print(builtins.arr) <span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> [2]</span></span></div><div><span class="source hydra">print(<span class="keyword operator source hydra">&lt;-</span>builtins.chan)<span class="comment line double-slash source hydra"><span class="punctuation definition comment js">//</span> 1</span></span></div></code></pre></div></div></body>