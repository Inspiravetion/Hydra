(function() {
  var ImageEditor, createImageStatusView, imageExtensions, openUri, path, _;

  path = require('path');

  _ = require('underscore-plus');

  ImageEditor = require('./image-editor');

  module.exports = {
    activate: function() {
      atom.workspace.registerOpener(openUri);
      return atom.packages.once('activated', createImageStatusView);
    },
    deactivate: function() {
      return atom.workspace.unregisterOpener(openUri);
    }
  };

  createImageStatusView = function() {
    var ImageEditorStatusView, statusBar, view;
    statusBar = atom.workspaceView.statusBar;
    if (statusBar != null) {
      ImageEditorStatusView = require('./image-editor-status-view');
      view = new ImageEditorStatusView(statusBar);
      return view.attach();
    }
  };

  imageExtensions = ['.gif', '.ico', '.jpeg', '.jpg', '.png'];

  openUri = function(uriToOpen) {
    var uriExtension;
    uriExtension = path.extname(uriToOpen).toLowerCase();
    if (_.include(imageExtensions, uriExtension)) {
      return new ImageEditor(uriToOpen);
    }
  };

}).call(this);

//# sourceMappingURL=/../../../../../../../../..//tmp/atom-build/Atom.app/Contents/Resources/app/node_modules/image-view/lib/main.js.map
